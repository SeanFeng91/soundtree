# 🌳 声音树 - 音频可视化

一个基于Web的3D音频可视化项目，模拟现实中声音树的物理振动效果。插在球体上的杆子具有不同的固有频率，当输入音频时，对应频率的杆子会产生共振振动。

## ✨ 功能特性

- **3D可视化**: 使用Three.js创建美丽的3D声音树
- **实时音频分析**: 使用Web Audio API进行频率分析
- **物理模拟**: 杆子根据对应频率产生共振振动
- **音频支持**: 
  - 上传本地音频文件
  - 内置音频生成器创建测试音频
- **交互控制**: 
  - 3D场景旋转查看
  - 音量控制
  - 播放/暂停/停止

## 🚀 技术栈

- **前端**: HTML5, CSS3, JavaScript (ES6+)
- **3D渲染**: Three.js
- **音频处理**: Web Audio API
- **样式**: CSS Gradients, Flexbox

## 📁 项目结构

```
SoundTree/
├── index.html          # 主页面
├── script.js           # 主要逻辑
├── audio-generator.js  # 音频生成器
└── README.md          # 项目说明
```

## 🎵 音频类型

项目内置了多种测试音频：

1. **频率扫描 (20Hz-2000Hz)**: 从低频到高频的连续扫描
2. **复合音调**: 多个频率的混合音
3. **节拍音**: 有规律的节拍节奏
4. **和弦音**: C大调和弦音

## 🎮 使用方法

1. **打开页面**: 在浏览器中打开 `index.html`
2. **选择音频**:
   - 点击"选择音频文件"上传本地音频
   - 或点击内置音频按钮生成测试音频
3. **播放控制**: 使用播放/暂停/停止按钮控制音频
4. **调节音量**: 使用音量滑块调节音量
5. **观察效果**: 3D声音树会根据音频频率产生振动
6. **交互查看**: 用鼠标拖拽旋转3D场景

## 🔧 技术原理

### 音频分析
使用Web Audio API的`AnalyserNode`进行实时频率分析：
- FFT大小: 256
- 频率分辨率: 128个频率带
- 平滑时间常数: 0.8

### 3D可视化
- **杆子数量**: 128根，对应128个频率带
- **杆子长度**: 基于频率索引，低频杆子更长
- **振动效果**: 杆子长度和颜色根据对应频率强度变化
- **球体动画**: 中心球体根据整体音量旋转

### 物理模拟
每根杆子模拟共振效果：
- 长度变化反映振动幅度
- 颜色亮度表示频率强度
- 微小随机振动增加真实感

## 🎨 视觉设计

- **渐变背景**: 深蓝色科技感背景
- **彩虹杆子**: 杆子颜色基于频率的HSL色彩
- **动态光照**: 多个点光源营造氛围
- **阴影效果**: 增强3D立体感

## 📱 浏览器兼容性

支持现代浏览器：
- Chrome 66+
- Firefox 60+
- Safari 12+
- Edge 79+

需要支持：
- Web Audio API
- WebGL
- File API

## 🔮 未来扩展

- [ ] 添加更多音频效果
- [ ] 支持麦克风实时输入
- [ ] 增加杆子数量和排列模式
- [ ] 添加音频录制功能
- [ ] 支持VR查看模式
- [ ] 添加音频分析数据导出

## 🐛 已知问题

- 部分浏览器可能需要用户交互才能播放音频
- 文件上传大小限制取决于浏览器内存
- 某些音频格式可能不被支持

## 📄 开源协议

MIT License - 欢迎自由使用和修改

## 🤝 贡献

欢迎提交Issue和Pull Request！

---

享受你的声音树之旅！🎵🌳 